<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Design by http://www.bluewebtemplates.com
Released for free under a Creative Commons Attribution 3.0 License
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>RelaxMap</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- CuFon: Enables smooth pretty custom font rendering. 100% SEO friendly. To disable, remove this section -->
<script type="text/javascript" src="js/cufon-yui.js"></script>
<script type="text/javascript" src="js/georgia.js"></script>
<script type="text/javascript" src="js/cuf_run.js"></script>
<!-- CuFon ends -->
</head>
<body>
<div class="main">

  <div class="header">
    <div class="header_resize">
      <div class="logo"><h1><a href="index.html">RelaxMap</a></h1></div>
      <div class="menu_nav">
        <ul>
          <li><a href="index.html"><span>Home</span></a></li>
          <li class="active"><a href="experiments.html"><span>Experiments</span></a></li>
		  <li><a href="http://www.mapequation.org" target="_blank"><span>Map Equation</span></a></li>
          <li><a href="http://db.cs.washington.edu" target="_blank"><span>UW DB Group</span></a></li>
          <!--<li><a href="http://www.cs.washington.edu" target="_blank"><img src="images/uw_cse_banner.png" width="200px" /></a></li>-->
        </ul>
      </div>
      <div class="clr"></div>
    </div>
  </div>

  <div class="content">
    <div class="content_resize">
      <div class="mainbar"><div class="submb">
		<a name="howto"></a>
        <div class="article">
		  <h2>How to Generate Experimental Results in Our Publication </h2>
		  We assume that you already downloaded and compiled the RelaxMap as in <a href="index.html">here</a>.

		  <h3>How to get Datasets</h3>
		  <p>
			The benchmark datasets generated by a benchmark network generator are in <b>data/</b> directory of the source code repository.
			Those benchmark datasets are stored as in compressed format, so you should uncompress them before use them.
			<br /> <br />
			In <b>data/</b> directory of the RelaxMap source code directory, you can run simple tar command to extract those datasets like following:
			<code>
				$ tar xvf directNet_1k_sm_mu_network.tgz <br />
			</code>
			You can extract other datasets in data/ directory as by replacing other <b>.tgz</b> files instead of <i>directNet_1k_sm_mu_network.tgz</i>.
			Note that <b>*_network.tgz</b> files contain benchmark network files and <b>*_known_community.tgz</b> files contain corresponding ground truth community files.
		  </p>
		  <p>
			<!-- Download real-world datasets from SNAP network data collection. -->
			Also, you can find the real-world datasets used in our paper from the <a href="http://snap.stanford.edu/data/" target="_blank">SNAP Network Data Collection</a>.
			If you are in the RelaxMap source code directory, you can download real-world graph datasets from the SNAP Network data repository by using following commands: <br />

			<b>[For Mac OS X machine (which doesn't have 'wget' command)]</b> <br />
			<code>
				$ curl http://snap.stanford.edu/data/web-Stanford.txt.gz -o data/web-Stanford.txt.gz <br />
				$ gunzip data/web-Stanford.txt.gz <br />
			</code>

			<b>[For Linux machine]</b> <br />
			<code>
				$ wget http://snap.stanford.edu/data/web-Stanford.txt.gz<br />
				$ gunzip web-Stanford.txt.gz <br />
				$ mv web-Stanford.txt data/ <br />
			</code>
			We use total 6 real-world datasets from the <a href="http://snap.stanford.edu/data/" target="_blank">SNAP Network Data Collection</a>, 
			and you could download other network datasets by replacing [<i>web-Stanford.txt</i>] with 
			appropriate file names, such as <i>web-NotreDame.txt, web-BerkStan.txt, soc-LiveJournal1.txt</i>, and so on.
		  </p>

		  <h3>Command to run our (prioritized) RelaxMap experiments</h3>
		  <p>
			<code>
			<b>[Usage]</b>: $ ./ompRelaxmap [seed] [network data] [# threads] [# attempts] [threshold] [vThresh] [maxIter] [outDir] [prior/normal]<br />
			<br />
			<b>example</b>: $ ./ompRelaxmap 1 data/web-Stanford.txt 4 1 1e-3 0.0 10 outputs/ prior <br />
			</code>
		  </p>
		  <p>
			<code>
				args[0]: seed - we used 1 ~ 100 as random seed values for benchmark datasets, <br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and 1 ~ 10 for real-world datasets. <br />
				args[1]: network data file <br />
				args[2]: # thread - we used 1, 2, 4, 8, and 12 for two different machines. <br />
				args[3] - [6]: we used fixed values for these arguments as shown above. <br />
				args[7]: output directory location. <br />
				args[8]: we set the flag <i>prior</i> for prioritized search which is more efficient, <br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and <i>normal</i> for non-prioritized results. <br />
			</code>
		  </p>
		  <p>
			The example command shows how to run the prioritized RelaxMap with 4-way parallel execution.
			If you want to run non-prioritized RelaxMap, you should change the last argument from <i>prior</i> to <i>normal</i>.
			Note that the elapsed time means time used for overall graph partitioning (printed as "Time for partitioning").
		  </p>

		  
		  <h3>Command to run Infomap</h3>
		  <p>
			Our paper compared the output quality of the proposed (prioritized) RelaxMap algorithm to
			that of the original sequential community detection algorithm with the map equation, named <b>Infomap</b>.
			You can download the latest Infomap source code from <a href="http://www.mapequation.org/code.html" target="_blank">here</a>.
			You can easily compile Infomap from their instruction. After compiling Infomap, you can run the experiment we did by following command:

			<code>
				$ mkdir outputs <br />
				$ ./Infomap [<i>data_dir</i>]/web-Stanford.txt outputs/ -2 -d -s 1 -m 1e-3 -v -o -e <br />
			</code>

			Here [<i>data_dir</i>] should be the data directory where you put the graph data, 
			and "web-Stanford.txt" dataset is one of the dataset you could download 
			from the <a href="http://snap.stanford.edu/data/" target="_blank">SNAP Network Data Collection</a>, as shown above.
			The option '<b>-s</b>' is the random seed, so if you want to run multiple times with different random seed 
			you can use different integers with the option.
		  </p>
		</div>	
		<p></p>

		<a name="quality"></a>
        <div class="article">
		  <h2>Some Experimental Results</h2>
		  <p>
		  You can check out the details of the experimental results from our <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=6753935" target="_blnak">ICDMW 2013 paper</a>.<br />
		  Here, we present briefly the experimental results.
		  </p>

		  <h3>Quality Comparison [Benchmark Datasets]</h3>

		  <h4>Calculating normalized mutual information (NMI)</h4>
		  <p>
			The normalized mutual information (NMI) is used for comparing two given community structures of the same dataset.
			If NMI is equal to 1, then the given two community structures are identical, and
			if NMI is equal to 0, then the given two community structures are totally independent.
			You can find how to calculate NMI from Section III of <a href="http://journals.aps.org/pre/abstract/10.1103/PhysRevE.80.056117" target="_blank">this paper</a>.
		  </p>
		  <p>
			If you run our algorithm to find a community structure of a benchmark dataset,
			you can calculate NMI by using a simple perl-script, called <a href="scripts/calculate_normalized_mutual_info.pl" target="_blank">calculate_normalized_mutual_info.pl</a>.
			If you install our RelaxMap application correctly, you have some bencmark datasets in data/ directory as in .tgz format.
			You can extract each dataset file as shown "How to get Datasets" section.
			We assume that you are in the directory of RelaxMap implementation and put the perl script under that directory.
			Now you can run our algorithm and calculate NMI for the output as below:

			<code>
				$ ./ompRelaxmap 1 data/directNet_5k_sm_mu_07.txt 4 1 1e-3 0.0 10 outputs/ prior <br />
				$ ./calculate_normalized_mutual_info.pl -c data/directNet_5k_sm_mu_07_community.dat -f outputs/directNet_5k_sm_mu_07.clu -n 5000 <br />
			</code>
		  </p>
		  <p>
			Note that the output of the RelaxMap will be stored in "outputs/" directory as we put argument [7], 
			with the file name as same as data file name with extension .clu (clustering info) and .tree (tree structure info).
			So, if you want to run multiple times and keep all the outputs of the same dataset separately, then
			you should move the outputs with different name. Otherwise, only outputs of the last experiment of the dataset will be remained.
		  </p>
		  <p>
			Here, we show an example of how to calculate NMI of an output with a benchmark dataset (directNet_5k_sm_mu_07.txt).
			For the given perl-script, we should provide the original ground truth community structure (with '-c' option),
			the clustering output of the algorithm (with '-f' option), and the number of points, here 5000.
		  </p>

		  <h4>A graph for normalized mutual information of outputs of RelaxMap and Infomap</h4>
		  <p>
			<object width="400px" height="300px" data="results/NMI_vs_mixParam_directNet_5k_sm_mu.pdf"></object>
		  </p>

		  <p>
			The above graph shows the average NMI of 100 outputs as a function of the mixing parameter comparing Infomap and
			RelaxMap for the <em>directNet-5k</em> benchmark dataset. 
			Since the ground truth community structure is given for each benchmark dataset,
			we measured NMI by comparing the outputs of the Infomap and RelaxMap algorithms
			with the corresponding known ground truth community structures. 
			This graph implies that the RelaxMap generates outputs that are very similar to
			the outputs of the Infomap algorithm.
		  </p>

		  <h3>Quality Comparison [Real-World Datasets]</h3>

		  <p>
			<object width="400px" height="400px" data="results/avg_min_max_soc-LiveJournal1_opt_mdl_comparison.pdf"></object>
		  </p>
		  <p>
		  The output quality comparison between the Infomap and RelaxMap algorithm (1-way and 8-way parallelism) 
		  with <a href="http://snap.stanford.edu/data/soc-LiveJournal1.html">soc-LiveJournal1</a>
		  datasets from <a href="http://snap.stanford.edu/data/">SNAP</a> data repository. 
		  In this plot, the x-axis represents three different algorithms and the y-axis is the MDL score. 
		  The output qualities of the RelaxMap-1 and RelaxMap-8 are similar to the output quality of the Infomap. 
		  </p>
        </div>


		<a name="runtime"></a>
        <div class="article">
          <h3>Shared-Memory Parallel Efficiency</h3>
		  <p>
			Parallel efficiency is defined as below:
			<code>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>efficiency = T<sub>1</sub> / (T<sub>p</sub> * p)</b> <br /><br />

				where <i>T<sub>1</sub></i> = time for sequential run, <i>T<sub>p</sub></i> = time for <i>p-way</i> parallel run, 
				and <i>p</i> = the number of parallel units.
			</code>
		  </p>
		  <p>
			<object width="500px" height="500px" data="results/efficiency_vs_nProc_polaris.pdf"></object>
			<!-- <embed width="400px" height="400px" src="results/efficiency_vs_nProc_polaris.pdf"> -->
		  </p>
		  <p>
			Parallel efficiency of the <b>RelaxMap</b> on a 12-core machine,
			two six-core Intel Xeon E5-2430L processors (2.00 GHz, 15 MB Intel Smart Cache) and 64 GB of main memory, 
			with 6 real world datasets. We measure the parallel efficiency based on average times for partitioning of 10 runs.
		  </p>
        </div>
      </div></div>
      <div class="sidebar">
        <div class="gadget">
          <h2 class="star">Menu</h2>
          <ul class="sb_menu">
            <li><a href="index.html#intro">Introduction</a></li>
            <li><a href="index.html#publications">Publications</a></li>
            <li><a href="index.html#code">Source Code</a></li>
            <li><a href="index.html#dependency">Dependency</a></li>
            <li><a href="index.html#guide">User Guide</a></li>
            <li><a href="index.html#related">Related</a></li>
			<li><a href="experiments.html">Experiments</a></li>
            <li><a href="index.html#contact">Contact Us</a></li>
          </ul>
        </div>
        <!-- <div class="gadget">
          <h2 class="star">Sponsors</h2>
          <ul class="ex_menu">
            <li><a href="http://www.dreamtemplate.com" title="Website Templates">DreamTemplate</a><br />Over 6,000+ Premium Web Templates</li>
            <li><a href="http://www.templatesold.com" title="WordPress Themes">TemplateSOLD</a><br />Premium WordPress &amp; Joomla Themes</li>
            <li><a href="http://www.imhosted.com" title="Affordable Hosting">ImHosted.com</a><br />Affordable Web Hosting Provider</li>
            <li><a href="http://www.dreamstock.com" title="Stock Photos">DreamStock</a><br />Download Amazing Stock Photos</li>
            <li><a href="http://www.evrsoft.com" title="Website Builder">Evrsoft</a><br />Website Builder Software &amp; Tools</li>
            <li><a href="http://www.myvectorstore.com" title="Stock Icons">MyVectorStore</a><br />Royalty Free Stock Icons</li>
          </ul>
        </div> -->
      </div>
      <div class="clr"></div>
    </div>
  </div>

<!--
  <div class="fbg">
    <div class="fbg_resize">
      <div class="col c1">
        <h2>About</h2>
        <img src="images/white.jpg" width="64" height="64" alt="pix" />
        <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec libero. Suspendisse bibendum. Cras id urna. Morbi tincidunt, orci ac convallis aliquam, lectus turpis varius llorem, eu posuere nunc justo tempus leo. Donec mattis, purus nec placerat bibendum, dui pede condimentum odio, ac blandit ante orci ut diam. <a href="#">Learn more...</a></p>
        <div class="clr"></div>
      </div>
      <div class="col c2">
        <h2>Lorem Ipsum</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur dui nunc, molestie ut porta et, egestas vel justo. Suspendisse bibendum. Cras id urna. Morbi tincidunt, orci ac convallis aliquam, lectus turpis varius lorem, eu posuere nunc justo tempus leo.</p>
        <ul class="sb_menu">
          <li><a href="#">semper</a></li>
          <li><a href="#">magna sed purus</a></li>
          <li><a href="#">tincidunt</a></li>
        </ul>
      </div>
      <div class="col c3">
        <h2>Image Gallery</h2>
        <a href="#" class="nobg"><img src="images/pix1.jpg" width="64" height="64" alt="ad" class="ad" /></a>
        <a href="#" class="nobg"><img src="images/pix2.jpg" width="64" height="64" alt="ad" class="ad" /></a>
        <a href="#" class="nobg"><img src="images/pix3.jpg" width="64" height="64" alt="ad" class="ad" /></a>
        <a href="#" class="nobg"><img src="images/pix4.jpg" width="64" height="64" alt="ad" class="ad" /></a>
        <a href="#" class="nobg"><img src="images/pix5.jpg" width="64" height="64" alt="ad" class="ad" /></a>
        <a href="#" class="nobg"><img src="images/pix6.jpg" width="64" height="64" alt="ad" class="ad" /></a>
      </div>
      <div class="clr"></div>
    </div>
  </div>
-->
  <div class="footer">
    <div class="footer_resize">
      <p class="lf">&copy; Copyright Seung-Hee Bae, Bill Howe, and UW CSE Database Group. Designed by Blue <a href="http://www.bluewebtemplates.com">Website Templates</a></p>
   <!--   <ul class="fmenu">
        <li class="active"><a href="index.html">Home</a></li>
        <li><a href="support.html">Support</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact.html">Contacts</a></li>
      </ul> -->
      <div class="clr"></div>
    </div>
  </div>
</div>
</body>
</html>
